<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.retailsys.dao.UsersDao">

    <!-- 可根据自己的需求，是否要使用 -->
    <resultMap type="com.retailsys.entity.Users" id="UsersMap">
        <result property="id" column="id"/>
        <result property="username" column="username"/>
        <result property="password" column="password"/>
        <result property="realName" column="real_name"/>
        <result property="phone" column="phone"/>
        <result property="email" column="email"/>
        <result property="avatarUrl" column="avatar_url"/>
        <result property="wechatOpenid" column="wechat_openid"/>
        <result property="roleId" column="role_id"/>
        <result property="isActive" column="is_active"/>
        <result property="createdAt" column="created_at"/>
        <result property="updatedAt" column="updated_at"/>
    </resultMap>

    <!-- 根据用户名查询用户 -->
    <select id="queryByUsername" resultMap="UsersMap">
        select
            id, username, password, real_name, phone, email, avatar_url,
            wechat_openid, role_id, is_active, created_at, updated_at
        from users
        where username = #{username}
    </select>

</mapper>